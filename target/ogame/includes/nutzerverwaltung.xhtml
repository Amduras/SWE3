<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:p="http://primefaces.org/ui">
	
	<h:form id="test">
			<h:panelGrid columns="3">
				<h:outputText value="Enter: " style="color:white;"/>
				<p:inputText id="counter" value="#{roles.text}"
					placeholder="Enter Text">
					<p:ajax event="keyup" update="mainForm:test:out"
						listener="#{onKey}" />
				</p:inputText>
			</h:panelGrid>
			<h:panelGrid id="out">
				<h2 style="color:white;">Output</h2>
				<h:outputText value="#{roles.text}" style="color:white;"/>
			</h:panelGrid>

			<div>
				<p:dataTable id="testTable" var="user" value="#{userHandler.users}"
					selectionMode="single" selection="#{roles.selectedUser}"
					rowKey="#{user.userID}" rowClasses="odd,even" headerClass="header"
					scrollable="true" scrollHeight="200" styleClass="userTable">
					<f:facet name="header">Nutzer</f:facet>
					<p:ajax event="rowSelect" listener="#{roles.onRowSelect()}" />
					<p:column headerText="NutzerID">
						<p:outputLabel value="#{user.userID}" />
					</p:column>
					<p:column headerText="Nickname">
						<p:outputLabel value="#{user.username}" />
					</p:column>
					<p:column headerText="E-Mail">
						<p:outputLabel value="#{user.email}" />
					</p:column>
				</p:dataTable>
			</div>

			<div id="tappedPanel">
				<p:tabView>
					<p:tab title="Status">
						<div id="leftTable">
							<p:dataTable var="roles" value="#{roles.rights}">
								<p:column>
									<f:facet name="header">verf√ºgbare Rechte</f:facet>
									<p:outputLabel value="#{roles}" />
								</p:column>
							</p:dataTable>
						</div>
						<div id="rightTable">
							<p:dataTable var="user" value="#{userHandler.merkeUser}">
								<p:column>
									<f:facet name="header">Nutzer Rechte</f:facet>
									<p:outputLabel value="#{user.authLvl}" />
								</p:column>
							</p:dataTable>
						</div>
					</p:tab>
				</p:tabView>
			</div>
		</h:form>
</ui:composition>